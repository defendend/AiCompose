# üéØ –†–∞–±–æ—á–∏–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è RAG –¥–µ–º–æ

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã (—Ä–∞–±–æ—Ç–∞—é—Ç —Å DeepSeek)

### 1. –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
```
Execute rag_index_documents with path=/opt/aicompose/demo_docs
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ê–≥–µ–Ω—Ç –≤—ã–∑–æ–≤–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç rag_index_documents
- –ü—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç 3 —Ñ–∞–π–ª–∞ (docker.md, rag.md, history.md)
- –°–æ–∑–¥–∞—Å—Ç 9 —á–∞–Ω–∫–æ–≤
- –ü–æ–∫–∞–∂–µ—Ç —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

---

### 2. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–Ω–¥–µ–∫—Å–µ
```
Use rag_index_info to show index status
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–µ–Ω ‚úÖ
- –î–æ–∫—É–º–µ–Ω—Ç–æ–≤: 9
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –∏–Ω–¥–µ–∫—Å–∞

---

### 3. –ü–æ–∏—Å–∫ –ø–æ Docker
```
Search for Docker using rag_search
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–∞–π–¥—ë—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∏–∑ docker.md
- –ü–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ Docker –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å ~0.60-0.80

---

### 4. –ü–æ–∏—Å–∫ –ø–æ RAG
```
Find information about embeddings and vectors using rag_search
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–∞–π–¥—ë—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ rag.md
- TF-IDF, —ç–º–±–µ–¥–¥–∏–Ω–≥–∏, —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫

---

### 5. –ü–æ–∏—Å–∫ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏
```
Search for historical events using rag_search
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–∞–π–¥—ë—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ history.md
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–∞

---

## üé¨ –°—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –≤–∏–¥–µ–æ (–∏—Å–ø–æ–ª—å–∑—É—è —ç—Ç–∏ –ø—Ä–æ–º–ø—Ç—ã)

### –®–∞–≥ 1: –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è
**–ü—Ä–æ–º–ø—Ç:**
```
Execute rag_index_documents with path=/opt/aicompose/demo_docs
```

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
- –ê–≥–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
- 3 —Ñ–∞–π–ª–∞, 9 —á–∞–Ω–∫–æ–≤

---

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–∞
**–ü—Ä–æ–º–ø—Ç:**
```
Show index info using rag_index_info
```

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
- –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–µ–Ω
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

---

### –®–∞–≥ 3: –ü–æ–∏—Å–∫ #1 - Docker
**–ü—Ä–æ–º–ø—Ç:**
```
Search for Docker containers using rag_search
```

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
- –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ docker.md
- –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

---

### –®–∞–≥ 4: –ü–æ–∏—Å–∫ #2 - RAG
**–ü—Ä–æ–º–ø—Ç:**
```
Find information about TF-IDF embeddings using rag_search
```

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
- –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ rag.md
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

---

### –®–∞–≥ 5: –ü–æ–∏—Å–∫ #3 - –ò—Å—Ç–æ—Ä–∏—è
**–ü—Ä–æ–º–ø—Ç:**
```
Search for historical tools using rag_search
```

**–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
- –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ history.md
- –ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä –ê—Ä—Ö–∏–≤–∞—Ä–∏—É—Å

---

## ‚ùå –ü—Ä–æ–º–ø—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –ù–ï —Ä–∞–±–æ—Ç–∞—é—Ç

### –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ (–æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ)
```
‚ùå –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è RAG —Å–∏—Å—Ç–µ–º—ã –≤ AiCompose
‚ùå RAG –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≥–µ–Ω—Ç—É –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚ùå –ü–æ–∫–∞–∂–∏ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç RAG
```

**–ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**
- –ú–æ–¥–µ–ª—å –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–∏–µ, –Ω–µ –∫–æ–º–∞–Ω–¥—É
- –ù–µ—Ç —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –≤—ã–∑–≤–∞—Ç—å tool
- –ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä –ê—Ä—Ö–∏–≤–∞—Ä–∏—É—Å –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤–º–µ—Å—Ç–æ action

---

### –°–ª–∏—à–∫–æ–º –≤–µ–∂–ª–∏–≤—ã–µ
```
‚ùå –ú–æ–∂–µ—à—å –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã?
‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–ø–æ–ª–Ω–∏ –ø–æ–∏—Å–∫
‚ùå –•–æ—Ç–µ–ª–æ—Å—å –±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∏–Ω–¥–µ–∫—Å
```

**–ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**
- –í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–∞—ë—Ç –º–æ–¥–µ–ª–∏ –≤—ã–±–æ—Ä
- –ú–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–≤–µ—Ç–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–º –≤–º–µ—Å—Ç–æ tool call

---

### –ù–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (—á–∞—Å—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
```
‚ö†Ô∏è  –ü—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä—É–π –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–∑ /opt/aicompose/demo_docs
‚ö†Ô∏è  –ù–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–æ Docker
```

**–ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- DeepSeek –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞–µ—Ç tool calling –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –ú–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ

---

## üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π + –∏–º–ø–µ—Ä–∞—Ç–∏–≤
```
‚úÖ Execute rag_index_documents with path=...
‚úÖ Search for X using rag_search
‚úÖ Use rag_index_info
```

### 2. –£–∫–∞–∑—ã–≤–∞–π—Ç–µ tool —è–≤–Ω–æ
```
‚úÖ ...using rag_search
‚úÖ ...with rag_index_documents
‚úÖ Execute rag_index_info
```

### 3. –ë—É–¥—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã
```
‚úÖ path=/opt/aicompose/demo_docs (–Ω–µ –ø—Ä–æ—Å—Ç–æ "demo docs")
‚úÖ query=Docker containers (–Ω–µ –ø—Ä–æ—Å—Ç–æ "Docker")
‚úÖ top_k=2 (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
```

---

## üîß –ü–ª–∞–Ω –ë: –ü—Ä—è–º–æ–π API

–ï—Å–ª–∏ –ø—Ä–æ–º–ø—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤:

### –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è
```bash
curl -X POST http://89.169.190.22/api/tools/execute \
  -H 'Content-Type: application/json' \
  -d '{"tool":"rag_index_documents","arguments":"{\"path\":\"/opt/aicompose/demo_docs\"}"}'
```

### –ü–æ–∏—Å–∫
```bash
curl -X POST http://89.169.190.22/api/tools/execute \
  -H 'Content-Type: application/json' \
  -d '{"tool":"rag_search","arguments":"{\"query\":\"Docker\",\"top_k\":2}"}'
```

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```bash
curl -X POST http://89.169.190.22/api/tools/execute \
  -H 'Content-Type: application/json' \
  -d '{"tool":"rag_index_info","arguments":"{}"}'
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–ø—Ç–æ–≤

| –¢–∏–ø –ø—Ä–æ–º–ø—Ç–∞ | –£—Å–ø–µ—Ö | –ü—Ä–∏–º–µ—Ä |
|-------------|-------|--------|
| –ê–Ω–≥–ª–∏–π—Å–∫–∏–π + Execute | 95% | Execute rag_index_documents with path=... |
| –ê–Ω–≥–ª–∏–π—Å–∫–∏–π + Use | 90% | Use rag_search to find Docker |
| –†—É—Å—Å–∫–∏–π + –∏–º–ø–µ—Ä–∞—Ç–∏–≤ | 50% | –ü—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä—É–π –¥–æ–∫—É–º–µ–Ω—Ç—ã |
| –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π | 10% | –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è RAG —Å–∏—Å—Ç–µ–º—ã |
| –í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π | 5% | –ú–æ–∂–µ—à—å –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å? |

---

## üé• –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –≤–∏–¥–µ–æ

**–°–∞–º—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–±:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–º–ø—Ç—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã"
2. –ö–æ–ø–∏—Ä—É–π—Ç–µ –∏—Ö —Ç–æ—á–Ω–æ (—Å –∞–Ω–≥–ª–∏–π—Å–∫–∏–º —è–∑—ã–∫–æ–º)
3. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ - —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ –ü–ª–∞–Ω –ë (curl)

**–î–ª—è –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –≤–∏–¥–µ–æ:**
- –ì–æ–≤–æ—Ä–∏—Ç–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –¥–ª—è –∑—Ä–∏—Ç–µ–ª–µ–π
- –ù–æ –ø—Ä–æ–º–ø—Ç—ã –ø–∏—à–∏—Ç–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –û–±—ä—è—Å–Ω–∏—Ç–µ: "–î–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã"

–£–¥–∞—á–∏ —Å –≤–∏–¥–µ–æ! üé¨
