# День 20: Ассистент разработчика

## Подготовка

```bash
# Backend (документация индексируется автоматически при старте)
DEEPSEEK_API_KEY=xxx PROJECT_PATH=/path/to/project ./gradlew :backend:run

# Desktop
./gradlew :desktop:run
```

---

## Демо через чат

### 1. Документация (RAG)

**Промпт 1 - Поиск по ключевым словам:**
> Поищи в документации: @Tool @Param AnnotatedAgentTool kotlin

**Промпт 2 - API контракт:**
> Поищи: POST api chat GET health endpoints

**Промпт 3 - RAG система:**
> Поищи: RAG DocumentIndex TF-IDF поиск

---

### 2. Git интеграция

**Промпт:**
> Покажи статус git репозитория

**Промпт:**
> Какая сейчас ветка? Покажи список всех веток.

**Промпт:**
> Покажи последние 5 коммитов

**Промпт:**
> Есть ли незакоммиченные изменения?

---

### 3. Анализ кода

**Промпт:**
> Покажи структуру проекта

**Промпт:**
> Найди все файлы где используется аннотация @Tool

**Промпт:**
> Какие зависимости использует backend модуль?

**Промпт:**
> Покажи содержимое файла Application.kt

---

### 4. IDE интеграция

**Промпт:**
> Установи контекст: текущий файл Application.kt, курсор на строке 45

**Промпт:**
> Покажи код вокруг курсора

**Промпт:**
> Какой сейчас контекст IDE?

---

### 5. Комплексные вопросы

**Промпт:**
> Объясни архитектуру backend модуля

**Промпт:**
> Какие инструменты доступны агенту? Сгруппируй по категориям.

---

## Автоматическая индексация

При старте сервера:
1. Загружается кэш индекса (если есть)
2. Проверяется, изменились ли файлы
3. При необходимости — переиндексация

Файлы индекса:
- `docs_index.json` — векторный индекс
- `.docs_index_meta.json` — метаданные

---

## Инструменты (16 шт)

| Категория | Инструменты |
|-----------|-------------|
| Git (5) | `git_status`, `git_branch`, `git_log`, `git_diff`, `git_files` |
| Docs (3) | `docs_index`, `docs_search`, `docs_query` |
| Code (4) | `code_search`, `file_read`, `project_structure`, `project_dependencies` |
| IDE (4) | `ide_set_context`, `ide_get_context`, `ide_read_current`, `ide_clear_context` |

---

## Файлы

```
backend/src/main/kotlin/org/example/tools/devassistant/
├── git/          # 5 инструментов
├── docs/         # 3 инструмента + DocsIndex
├── code/         # 4 инструмента
└── ide/          # 4 инструмента

.claude/commands/help.md
```
