# –î–µ–Ω—å 21: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ Code Review

## –°—Ü–µ–Ω–∞—Ä–∏–π –≤–∏–¥–µ–æ (–±–µ–∑ —Å–ª–æ–≤)

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–¥–æ –∑–∞–ø–∏—Å–∏)

1. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç:
   ```bash
   curl http://89.169.190.22/api/health
   ```

2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –≤–µ—Ç–∫—É –∑–∞—Ä–∞–Ω–µ–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```bash
   git checkout -b demo/code-review-test
   ```

---

## –ß–∞—Å—Ç—å 1: –°–æ–∑–¥–∞–Ω–∏–µ PR —Å "–ø—Ä–æ–±–ª–µ–º–Ω—ã–º" –∫–æ–¥–æ–º

### –®–∞–≥ 1.1: –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É
```
–û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª
‚Üì
git status
‚Üì
–ü–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –º—ã –Ω–∞ main
```

### –®–∞–≥ 1.2: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ç–∫—É
```
git checkout -b feature/demo-review
```

### –®–∞–≥ 1.3: –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `backend/src/main/kotlin/org/example/demo/ReviewDemo.kt`:

```kotlin
package org.example.demo

// TODO: —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ –¥–µ–º–æ
object ReviewDemo {

    // –ü—Ä–æ–±–ª–µ–º–∞ 1: –•–∞—Ä–¥–∫–æ–¥ —Å–µ–∫—Ä–µ—Ç–∞
    private val API_KEY = "sk-12345-secret-key"

    // –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
    private val unusedVariable = "never used"

    // –ü—Ä–æ–±–ª–µ–º–∞ 3: –§—É–Ω–∫—Ü–∏—è –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
    fun fetchData(url: String): String {
        val connection = java.net.URL(url).openConnection()
        return connection.getInputStream().bufferedReader().readText()
    }

    // –ü—Ä–æ–±–ª–µ–º–∞ 4: SQL –∏–Ω—ä–µ–∫—Ü–∏—è
    fun findUser(userId: String): String {
        val query = "SELECT * FROM users WHERE id = '$userId'"
        return query
    }

    // –ü—Ä–æ–±–ª–µ–º–∞ 5: –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª
    fun processItems(items: List<String>) {
        var i = 0
        while (i < items.size) {
            println(items[i])
            // –ó–∞–±—ã–ª–∏ i++
        }
    }
}
```

### –®–∞–≥ 1.4: –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
```
git add .
‚Üì
git commit -m "feat: add demo functionality"
‚Üì
git push -u origin feature/demo-review
```

---

## –ß–∞—Å—Ç—å 2: –°–æ–∑–¥–∞–Ω–∏–µ Pull Request

### –®–∞–≥ 2.1: –û—Ç–∫—Ä—ã—Ç—å GitHub –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```
–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://github.com/defendend/AiCompose
‚Üì
–ù–∞–∂–∞—Ç—å "Compare & pull request" (–ø–æ—è–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

### –®–∞–≥ 2.2: –ó–∞–ø–æ–ª–Ω–∏—Ç—å PR
```
Title: feat: add demo functionality
‚Üì
Description: –î–æ–±–∞–≤–ª–µ–Ω –¥–µ–º–æ-–º–æ–¥—É–ª—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚Üì
–ù–∞–∂–∞—Ç—å "Create pull request"
```

---

## –ß–∞—Å—Ç—å 3: –ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–µ–≤—å—é

### –®–∞–≥ 3.1: –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—É—Å–∫ Action
```
–ü–µ—Ä–µ–π—Ç–∏ –≤–æ –≤–∫–ª–∞–¥–∫—É "Actions"
‚Üì
–ü–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ workflow "AI Code Review" –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
‚Üì
–ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –Ω–µ–≥–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π
```

### –®–∞–≥ 3.2: –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```
–†–∞—Å–∫—Ä—ã—Ç—å step "Run AI Code Review"
‚Üì
–ü–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –∏–¥—ë—Ç –∑–∞–ø—Ä–æ—Å –∫ API
‚Üì
–ü–æ–¥–æ–∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (1-3 –º–∏–Ω—É—Ç—ã)
```

### –®–∞–≥ 3.3: –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```
–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É PR
‚Üì
–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –≤–Ω–∏–∑ –∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º
‚Üì
–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç –±–æ—Ç–∞ —Å —Ä–µ–≤—å—é
```

---

## –ß–∞—Å—Ç—å 4: –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–µ–≤—å—é (—á—Ç–æ –ø–æ–∫–∞–∂–µ—Ç AI)

–û–∂–∏–¥–∞–µ–º—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:

```markdown
## ü§ñ AI Code Review

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–•–∞—Ä–¥–∫–æ–¥ —Å–µ–∫—Ä–µ—Ç–∞** (—Å—Ç—Ä–æ–∫–∞ 8)
   - `API_KEY = "sk-12345-secret-key"` ‚Äî —Å–µ–∫—Ä–µ—Ç—ã –Ω–µ–ª—å–∑—è —Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫–æ–¥–µ
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

2. **SQL –∏–Ω—ä–µ–∫—Ü–∏—è** (—Å—Ç—Ä–æ–∫–∞ 21)
   - –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –≤ SQL –∑–∞–ø—Ä–æ—Å–µ
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

3. **–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª** (—Å—Ç—Ä–æ–∫–∞ 26-30)
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç `i++`
   - –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–Ω–µ—Ç

### üü° –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

4. **–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è** (—Å—Ç—Ä–æ–∫–∞ 11)
   - `unusedVariable` –Ω–∏–≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫** (—Å—Ç—Ä–æ–∫–∞ 14-17)
   - `fetchData` –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç IOException
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å try-catch

### üìä –ò—Ç–æ–≥
- –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ: 1
- –ü—Ä–æ–±–ª–µ–º –Ω–∞–π–¥–µ–Ω–æ: 5
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: **REQUEST_CHANGES**
```

---

## –ß–∞—Å—Ç—å 5: –û—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –¥–µ–º–æ

### –®–∞–≥ 5.1: –ó–∞–∫—Ä—ã—Ç—å PR –±–µ–∑ –º–µ—Ä–∂–∞
```
–ù–∞–∂–∞—Ç—å "Close pull request"
```

### –®–∞–≥ 5.2: –£–¥–∞–ª–∏—Ç—å –≤–µ—Ç–∫—É
```
git checkout main
‚Üì
git branch -D feature/demo-review
‚Üì
git push origin --delete feature/demo-review
```

---

## –¢–∞–π–º–ª–∞–π–Ω –≤–∏–¥–µ–æ

| –í—Ä–µ–º—è | –î–µ–π—Å—Ç–≤–∏–µ |
|-------|----------|
| 0:00 | –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª, `git status` |
| 0:10 | –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É `feature/demo-review` |
| 0:20 | –û—Ç–∫—Ä—ã—Ç—å IDE, —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª ReviewDemo.kt |
| 0:40 | –ù–∞–ø–∏—Å–∞—Ç—å "–ø—Ä–æ–±–ª–µ–º–Ω—ã–π" –∫–æ–¥ |
| 1:30 | –ö–æ–º–º–∏—Ç –∏ –ø—É—à |
| 1:50 | –û—Ç–∫—Ä—ã—Ç—å GitHub, —Å–æ–∑–¥–∞—Ç—å PR |
| 2:20 | –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—É—Å–∫ Action –≤–æ –≤–∫–ª–∞–¥–∫–µ Actions |
| 2:40 | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| 3:30 | –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ PR, –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å —Ä–µ–≤—å—é |
| 4:00 | –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã |
| 4:30 | –ó–∞–∫—Ä—ã—Ç—å PR, —É–¥–∞–ª–∏—Ç—å –≤–µ—Ç–∫—É |
| 4:45 | –ö–æ–Ω–µ—Ü |

**–û–±—â–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ~5 –º–∏–Ω—É—Ç**

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

–ï—Å–ª–∏ Action –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```
GitHub ‚Üí Actions ‚Üí AI Code Review
‚Üì
–ù–∞–∂–∞—Ç—å "Run workflow"
‚Üì
–í–≤–µ—Å—Ç–∏ –Ω–æ–º–µ—Ä PR
‚Üì
–ù–∞–∂–∞—Ç—å "Run workflow"
```

---

## –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã –¥–ª—è –≤–∏–¥–µ–æ

1. **–ó—É–º –Ω–∞ –∫–æ–¥** ‚Äî –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∫–æ–¥–∞
2. **–ó—É–º –Ω–∞ Actions** ‚Äî –ø—Ä–∏ –ø–æ–∫–∞–∑–µ –∑–∞–ø—É—Å–∫–∞ workflow
3. **–ó—É–º –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π** ‚Äî –ø—Ä–∏ –ø–æ–∫–∞–∑–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ä–µ–≤—å—é
4. **–í—ã–¥–µ–ª–µ–Ω–∏–µ –º—ã—à—å—é** ‚Äî –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| Action –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ workflow –≤–∫–ª—é—á—ë–Ω –≤ Settings ‚Üí Actions |
| –¢–∞–π–º–∞—É—Ç API | –£–≤–µ–ª–∏—á–∏—Ç—å `--max-time` –≤ workflow –∏–ª–∏ –ø–æ–¥–æ–∂–¥–∞—Ç—å |
| –ü—É—Å—Ç–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `sudo journalctl -u aicompose -f` |
| 403 –æ—Ç GitHub API | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ —Ç–æ–∫–µ–Ω–∞ GITHUB_TOKEN |
